# R 데이터 구조
R은 데이터가 어떤 구조 또는 형태로 되어 있느냐에
따라

1. [Vector](#Vector(벡터))
1. [Factor](#Factor(요인))
1. [Matrix](#Matrix(행렬))
1. [Array](#Array(배열))
1. [List](#List(리스트))

등으로 구분됨
<br /><br />

# Vector(벡터)
벡터는 가장 대표적인 데이터 형태이다.
<br /><br />

## 벡터의 개념
- 벡터는 동일한 데이터 유형으로 이루어진 한 개 이상의 값들로 구성
- 하나의 열(Column)로 되어 있음
- 벡터는 데이터 분석의 가장 기본 단위임

<br /><br />

## 벡터 만들기
### 하나의 값으로 이루어진 벡터 만들기

```r
s1 <- 10 # 수치형
s2 <- "Hello" # 문자형
s3 <- FALSE # 논리형
s4 <- 1 - 3i # 복소수형
```

<br />

### 두 개 이상의 값으로 이루어진 벡터 만들기
- 두 개 이상의 값으로 이루어진 벡터를 생성할 때와
하나의 값으로 이루어진 벡터를 생성하는 방법이 다르다.
- `c()`, `:`, `seq()`, `sequence()`, `rep()` 으로 만든다.

<br />

#### c() 함수
- combine, concatenate의 약자
- 벡터를 생성하는 가장 대표적인 방법
- 수치형, 문자형, 논리형, 복소수형 에 적용 가능 및 벡터 생성 가능
- 규칙이 없는 데이터로 이루어진 벡터를 생성할 때 사용

```r
v1 <- c(10, 20, 30) # v1은 3개의 수치형으로 이루어진 벡터
v2 <- c("Kim", "Park", "Yeo") # v2은 3개의 문자형으로 이루어진 벡터
v3 <- c(TRUE, FALSE, FALSE, FALSE) # v3은 4개의 논리형으로 이루어진 벡터
```

<br />

#### 콜론(:)
- 수치형에만 적용
- 1씩 증가되거나 1씩 감소되는 규칙이 있는 값으로 이루어진 벡터를 생성할 때 사용
- start:end 구조로 사용
  - start, end는 숫자
  - start > end이면 1씩 감소
  - start < end이면 1씩 증가
  - start=end이면 start 또는 end가 됨
  - ※시작은 무조건 start에서 시작, end를 넘지 않음
- 벡터를 생성할 때 사용하지만, 다른 데이터 형태에서 연달아 있는
특정한 행이나 열의 데이터를 추출할 때 사용할 수 있다.

```r
v1 <- 1:5
v2 <- 5:1
v3 <- -3.3:5
v4 <- 5:-3.3
v1 # [1] 1 2 3 4 5 출력
v2 # [1] 5 4 3 2 1 출력
v3 # [1] -3.3 -2.3 -1.3 -0.3  0.7  1.7  2.7  3.7  4.7 출력
v4 # [1]  5  4  3  2  1  0 -1 -2 -3 출력
```

<br />

#### seq() 함수
콜론(:)의 확장 또는 일반화 
<br />
콜론(:)은 1씩 증가하거나 1씩 감소하는 수치형으로 이루어진 벡터를 생성하지만, 
<br />
seq() 함수는 1 이외의 증가 또는 감소가 되는 규칙 있는 수치형 벡터를 생성함
<br />

argument | 설명
:---: | :---:
from | 시작 값
to | 끝 값
by | 증가 혹은 감소 값 <br /> 감소 시킬 경우 부호가 <br /> 음수가 아니면 error 발생

<br />

```r
v1 <- seq(from = 1, to = 5, by = 1)
v2 <- seq(from = 1, to = 5, by = .5)
v3 <- seq(from = 5, to = 1, by = .5) # error 발생 (by 부호 주의)
v3 <- seq(from = 5, to = 1, by = -.5)
v1 # [1] 1 2 3 4 5 출력
v2 # [1] 1.0 1.5 2.0 2.5 3.0 3.5 4.0 4.5 5.0 출력
v3 # [1] 5.0 4.5 4.0 3.5 3.0 2.5 2.0 1.5 1.0 출력
```

<br />

#### sequence() 함수
- sequence() 함수는 sequence(숫자) 형태로 사용
- 1과 지정한 ‘숫자’ 사이의 정수로 이루어진 수치형 벡터를 생성

```r
v1 <- sequence(10)
v2 <- sequence(5.5)
v3 <- sequence(1)
v4 <- sequence(0) # 벡터를 초기화할 때 사용할 수 있음
v4 <- sequence(-1) # 음수가 지정되었기 때문에 오류 발생
v1 # [1]  1  2  3  4  5  6  7  8  9 10 출력
v2 # [1] 1 2 3 4 5 출력
v3 # [1] 1 출력
v4 # integer(0) 출력
```

<br />

#### rep() 함수
- 수치형, 문자형, 논리형, 복수형으로 된 벡터를 생성할 수 있음
- 함수에 지정된 데이터를 **복사**해 주는 기능

<br />

argument | 설명
:---: | :---:
x | 복사하고 싶은 벡터를 지정
times | times만큼 복사하여 새로운 벡터를 생성함
each | 지정된 숫자만큼 벡터의 원소를 각각 복사해서 <br /> 하나의 벡터가 생성
length.out  | 생성되는 벡터의 길이를 지정

<br />

```r
v1 <- rep("a", times = 5) # “a”라는 문자형 데이터를 5번 복사해서 문자형 벡터인 v1을 생성
v2 <- rep("a", each = 5) # 복사되는 데이터가 한 개인 경우 times와 each라는 argument에는 차이가 없음
v3 <- rep(c("a", "b"), times = 3) #  두 개의 문자형 “a”와 “b”를 가지는 벡터를 복사하는 것
v4 <- rep(c("a", "b"), each = 3) #  두 개의 문자형 “a”와 “b”를 가지는 벡터를 복사하는 것 (결과 다름)
v5 <- rep(c("a", "b"), times = 3, each = 2) #  each가 먼저, 그 다음에 times가 적용됨
v6 <- rep(c("a", "b"), times = c(10, 5) ) #  each가 먼저, 그 다음에 times가 적용됨

v1 # [1] "a" "a" "a" "a" "a"
v2 # [1] "a" "a" "a" "a" "a"
v3 # [1] "a" "b" "a" "b" "a" "b"
v4 # [1] "a" "a" "a" "b" "b" "b"
v5 # [1] "a" "a" "b" "b" "a" "a" "b" "b" "a" "a" "b" "b"
v6 # [1] "a" "a" "a" "a" "a" "a" "a" "a" "a" "a" "b" "b" "b" "b" "b"
```

<br /><br />

## 벡터의 속성
> 벡터가 가지는 하나의 값 = 원소(Element) <br />
> 원소들이 어떤 `데이터 유형`으로 이루어졌는지, 
`원소의 개수`는 몇 개 인지, `원소의 이름`은 어떻게 되어 있는지
를 나타내는 것을 벡터의 속성이라고 한다.

<br /><br />

### 데이터의유형
벡터가 가지는 값의 데이터 유형을 알아보기 위해 여러가지 함수가 있다.
- mode()
- is.numeric()
- is.character()
- is.logical()
- is.complex()


```r
v1 <- c(27, 35, 47, 41)

mode(v1) # 데이터 유형을 알려줌 (numeric)
is.numeric(v1) # True 반환
is.character(v1) # False 반환
is.logical(v1) # False 반환
is.complex(v1) # False 반환
```

<br /><br />

### 원소의 개수
- 벡터가 몇 개의 원소(element)를 가지고 있는지를 원소의 개수(또는 데이터의 개수)라고 함
- `length()` 함수를 사용하여 확인 가능함

```r
v1 <- c(27, 35, 47, 41)

length(v1) # 원소의 갯수 출력 (4)
```

<br /><br />

### 원소의 이름
- 기본적으로는 벡터의 원소에 대한 이름은 없으나 이름을 부여할 수 있음
- names() 함수를 사용 해서 원소의 이름이 무엇인지 알 수 있고, 이름을 새롭게 부여할 수 있다.

```r
v1 <- c(27, 35, 47, 41)

names(v1) # NULL (지금은 원소의 이름이 없어 NULL)
names(v1) = c("Kim", "Lee", "Park", "Choi") # 원소의 이름 부여
names(v1) # [1] "Kim"  "Lee"  "Park" "Choi
```
<br /><br />

---
<br /><br />

# Factor(요인)
- 요인(factor)은 R의 데이터 중에서 하나이며 벡터의 한 종류
- 요인은 주로 집단별로 자료를 분석하고자 할 때에 특정 자료를 범주형 자료로 변경해 줌
- 벡터와 요인 모두 1차원의 형태로 자료가 되어 있음

분류  | 설명
:---: | :---
벡터 | 범주형 자료로 인식하지 못함
요인 | 범주형 자료로 인식함

<br />

## Factor 만들기
`factor()` 함수를 이용해 만든다.
argument | 설명
---|---
x | 벡터를 지정
levels | 그룹으로 지정할 문자형 벡터를 지정하며, levels를 쓰지 않으면 <br />오름차순으로 구분하여 자체적으로 그룹을 지정
labels | levels에 대한 문자형 벡터를 지정
ordered | levels에 대해 특정한 순서를 정하고 싶으면 TRUE를 지정

```r
# 요인(범주형 데이터)의 생성 == factor
gender <- c("m", "f", "f", "m", "f")
gender # [1] m f f m f

gender_factor = factor(gender) # 범주형 자료로 만들기
gender_factor # Levels: f m 
```
<br /><br />

---
<br /><br />

# Matrix(행렬)
- matrix은 데이터의 형태가 2차원으로 row, column로 구성
- 벡터의 확장 개념
- 벡터와 동일하게 하나의 데이터 유형만 가질 수 있음
- 행렬은 수학이나 통계에서 주로 사용
<br /><br />

## matrix 생성하기
matrix 생성하는 함수 목록
- rbind()
  - 2개의 백터를 행으로 합쳐서 하나의 행렬을 만듦
  - 벡터의 개수가 행의 개수가 됨
  - 벡터가 가지는 원소의 개수가 열의 개수가 됨
- cbind()
  - 벡터의 개수가 열의 개수가 됨
  - 벡터가 가지는 원소의 개수가 행의 개수가 됨
  - 행렬에서는 재사용 규칙이 적용
- matrix()
<br /><br />

### rbind(), cbind() 함수

```r
v1 = 1:3
v2 = 4:6
m1 = rbind(v1, v2)
m2 = cbind(v1, v2)
```

m1의 결과
```
   [,1] [,2] [,3]
v1    1    2    3
v2    4    5    6
```

m2의 결과
```
     v1 v2
[1,]  1  4
[2,]  2  5
[3,]  3  6
```
<br /><br />

### matrix() 함수

```r
m3 = matrix(1:4, nrow=2, ncol=2)
m4 = matrix(1:4, nrow = 2, ncol = 2, byrow = T)
```

- 2행 2열인 행렬이며, 
값이 열 방향 우선으로 입력
- m3과 동일하게 2행 2열이지만
값이 `행 방향 우선으로 입력`되어 다른 행렬이 됨
<br /><br />

---
<br /><br />

# Array(배열)
- 배열(array)은 데이터의 형태가 3차원 이상으로 구성될 수 있음
- 행렬의 확장 개념
- 배열은 차원을 어떻게 지정하느냐에 따라
1차원, 2차원, 3차원, 4차원 등으로 구성할 수 있음
- 벡터와 행렬처럼 데이터의 유형은 하나만 가질 수 있음
<br /><br />

## array() 함수

argument | 설명
---|---
x|벡터를 지정
dim|원하는 차원을 지칭 <br />지정하는 숫자의 따라 차원이 결정
  

```r
a1 = array(1:10, dim=10)
a2 = array(1:10, dim=c(2, 5))
a3 = array(1:10, dim=c(3, 3, 4))
```

1. a1 배열은 dim에 하나의 수치를 지정, **1차원 형태**의 데이터를 가짐
즉, 벡터가 됨
1. a2 배열은 dim에 두 개의 수치를 지정 **2차원 형태**가 되며 2행 5열인
행렬이 됨
1. a3 배열은 dim에 세 개의 수치를 지정 **3차원 형태**가 됨
<br /><br />

---
<br /><br />

# List(리스트)
- 리스트는 R의 데이터 형태인 vector, factor, matrix, array, data frame 과 리스트 자체까지 원소로 가질 수 있음
- 리스트 구조로 데이터를 저장해서 분석
- 많은 경우에는 데이터를 분석한 결과의 형태가 리스트인 경우가 많음
<br /><br />

## list() 함수
list() 함수를 이용해서 하나의 벡터와 하나의 행렬을 가지는 리스트를 만들 수 있다.

```r
v1 = 1:5
m1 = matrix(1:6, nrow=2, ncol=3)
d1 = list(v1, m1)
```

d1 이라는 리스트는
5개의 원소를 가지는 수치형 벡터와
2행 3열로 행렬을 원소로 가짐

d1 출력 결과
```
[[1]]
[1] 1 2 3 4 5

[[2]]
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6
```
<br /><br />

## 리스트 원소 추출

- 리스트명[index]

지정된 index의 위치에 있는
원소를 가져오며 최종적인 형태는 리스트가 됨

- 리스트명[[index]]

지정된 index의 위치에 있는
원소를 가져오며, 최종적인 결과는 index 위치에 있는
원소의 데이터 형태가 됨